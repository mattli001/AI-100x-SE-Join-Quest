# æ’°å¯«é›™åä¸€å„ªæƒ çš„ Feature file
_Exported on 2025/7/2 at 22:37:47 [GMT+8] from Cursor (1.2.0)_

---

**User**

å·²å®Œæˆä½œæ¥­ @https://waterballsa.gitbook.io/ai-100x-se/join-quest/join-quest-2  çš„ `æ­¥é©Ÿ 1 - æ„Ÿå—ä¸€ä¸‹ AI x BDD è»Ÿé«”å…¨è‡ªå‹•åŒ–é–‹ç™¼çš„åŸºæœ¬é‹ä½œ`
è¦ç¹¼çºŒ `æ­¥é©Ÿ 2 - è¿­ä»£ä¸‹ä¸€å€‹ User Story` çš„ä½œæ¥­
```
æ­¥é©Ÿ 2 - è¿­ä»£ä¸‹ä¸€å€‹ User Story
æƒ³åƒä¸€ä¸‹ï¼Œæ¥ä¸‹ä¾†ä½ æ”¶åˆ°ä¸€å€‹ã€Œé›™åä¸€å„ªæƒ ã€çš„éœ€æ±‚ï¼Œä½ å®¶ PM ç«Ÿç„¶ç ¸äº†ä¸€å€‹é›™åä¸€å„ªæƒ çš„éœ€æ±‚ï¼Œè¦å‰‡å¦‚ä¸‹ï¼š

å¦‚æœå•Ÿå‹•äº†é›™åä¸€å„ªæƒ æ´»å‹•ï¼Œå‰‡è¨‚å–®äº«æœ‰åº•ä¸‹å„ªæƒ è¦å‰‡ï¼š

åŒä¸€ç¨®å•†å“æ¯è²· 10 ä»¶ï¼Œå‰‡è©² 10 ä»¶åŒç¨®å•†å“çš„åƒ¹æ ¼ç¸½å’Œæœƒäº«æœ‰ 20% çš„æŠ˜æ‰£ã€‚

ç¯„ä¾‹ä¸€ï¼šè³¼è²· 12 ä»¶è¦åƒ¹ 100 å…ƒçš„è¥ªå­ï¼Œå‰‡è¨‚å–®ç¸½åƒ¹ç‚º 10x100x80%+100x2=1000

ç¯„ä¾‹äºŒï¼šè³¼è²· 27 ä»¶è¦åƒ¹ 100 å…ƒçš„è¥ªå­ï¼Œå‰‡è¨‚å–®ç¸½åƒ¹ç‚º 10x100x80%+10x100x80%+7x100=2300

ç¯„ä¾‹ä¸‰ï¼šè³¼è²·å•†å“ A, B, C, D, E, F, G, H, I, J å„ä¸€ä»¶ï¼ˆç¸½å…±åä»¶å•†å“ï¼‰ï¼Œæ¯ä¸€ä»¶åƒ¹æ ¼çš†ç‚º 100ï¼Œå‰‡è¨‚å–®ç¸½åƒ¹ç‚º 10x100=1000 ï¼ˆæ²’æœ‰æŠ˜æ‰£ï¼Œå› ç‚ºä¸¦éç‚ºåŒä¸€ç¨®å•†å“ï¼‰
```
è«‹å°‡ä¸Šè¿°å„ªæƒ è¦å‰‡å¯«æˆ Feature fileï¼ˆæ¯å€‹ç¯„ä¾‹éƒ½æ˜¯ä¸€é“æƒ…å¢ƒï¼‰ï¼Œè‡³ `/app/test/features`
feature file å¯åƒè€ƒ @order.feature 

---

**Cursor**

<details>
<summary>Thought for 10s</summary>
ç”¨æˆ¶å·²ç¶“å®Œæˆäº†æ­¥é©Ÿ1çš„ä½œæ¥­ï¼Œç¾åœ¨è¦é€²è¡Œæ­¥é©Ÿ2çš„ä½œæ¥­ã€‚æ ¹æ“šç”¨æˆ¶çš„éœ€æ±‚ï¼Œæˆ‘éœ€è¦ï¼š
1. ç†è§£é›™åä¸€å„ªæƒ çš„è¦å‰‡
2.å°‡ä¸‰å€‹ç¯„ä¾‹å¯«æˆFeature fileä¸­çš„æƒ…å¢ƒ
3.åƒè€ƒç¾æœ‰çš„ order.feature æ–‡ä»¶çš„æ ¼å¼

è®“æˆ‘å…ˆç†è§£é›™åä¸€å„ªæƒ è¦å‰‡ï¼š
å•Ÿå‹•é›™åä¸€å„ªæƒ æ´»å‹•æ™‚
åŒä¸€ç¨®å•†å“æ¯è²·10ä»¶ï¼Œé€™10ä»¶äº«æœ‰20%æŠ˜æ‰£ï¼ˆç›¸ç•¶æ–¼8æŠ˜ï¼‰
- ç¯„ä¾‹1ï¼š12ä»¶è¥ªå­ï¼Œæ¯ä»¶100å…ƒ â†’ å‰10ä»¶æ‰“8æŠ˜ + å¾Œ2ä»¶åŸåƒ¹ = 10Ã—100Ã—0.8 + 2Ã—100 = 800 + 200 = 1000
- ç¯„ä¾‹2ï¼š27ä»¶è¥ªå­ï¼Œæ¯ä»¶100å…ƒ â†’ å‰10ä»¶æ‰“8æŠ˜ + ä¸­é–“10ä»¶æ‰“8æŠ˜ + å¾Œ7ä»¶åŸåƒ¹ = 10Ã—100Ã—0.8 + 10Ã—100Ã—0.8 + 7Ã—100 = 800 + 800 + 700 = 2300
- ç¯„ä¾‹3ï¼š10ç¨®ä¸åŒå•†å“å„1ä»¶ï¼Œæ¯ä»¶100å…ƒ â†’ æ²’æœ‰æŠ˜æ‰£å› ç‚ºä¸æ˜¯åŒç¨®å•†å“ = 10Ã—100 = 1000

æˆ‘éœ€è¦åƒè€ƒç¾æœ‰çš„ order.feature æ ¼å¼ä¾†æ’°å¯«æ–°çš„æƒ…å¢ƒã€‚å¾ç¾æœ‰çš„feature fileä¸­æˆ‘å¯ä»¥çœ‹åˆ°ï¼š
- ä½¿ç”¨Gherkinèªæ³•
- Given, When, Thençµæ§‹
- ä½¿ç”¨è¡¨æ ¼ä¾†è¡¨ç¤ºæ•¸æ“š
- æœ‰æ¸…æ¥šçš„å ´æ™¯æè¿°
æˆ‘éœ€è¦å»ºç«‹ä¸€å€‹æ–°çš„feature fileä¾†åŒ…å«é›™åä¸€å„ªæƒ çš„æƒ…å¢ƒã€‚
</details>

æˆ‘ä¾†å¹«æ‚¨å»ºç«‹é›™åä¸€å„ªæƒ çš„ Feature fileã€‚æ ¹æ“šæ‚¨æä¾›çš„éœ€æ±‚è¦å‰‡å’Œç¯„ä¾‹ï¼Œæˆ‘æœƒåƒè€ƒç¾æœ‰çš„ `order.feature` æ ¼å¼ä¾†æ’°å¯«ã€‚

```feature
@double_eleven_promotion
Feature: Double Eleven Promotion
  As a shopper
  I want to enjoy Double Eleven promotion discounts
  So that I can get discounts when buying 10 or more of the same product

  Background:
    Given the Double Eleven promotion is active

  Scenario: Same product with 12 items - partial discount
    When a customer places an order with:
      | productName | quantity | unitPrice |
      | è¥ªå­          | 12       | 100       |
    Then the order summary should be:
      | totalAmount |
      | 1000        |
    And the discount details should be:
      | productName | discountedQuantity | regularQuantity | discountedAmount | regularAmount |
      | è¥ªå­          | 10                 | 2               | 800              | 200           |

  Scenario: Same product with 27 items - multiple discount groups
    When a customer places an order with:
      | productName | quantity | unitPrice |
      | è¥ªå­          | 27       | 100       |
    Then the order summary should be:
      | totalAmount |
      | 2300        |
    And the discount details should be:
      | productName | discountedQuantity | regularQuantity | discountedAmount | regularAmount |
      | è¥ªå­          | 20                 | 7               | 1600             | 700           |

  Scenario: Ten different products - no discount applies
    When a customer places an order with:
      | productName | quantity | unitPrice |
      | å•†å“A         | 1        | 100       |
      | å•†å“B         | 1        | 100       |
      | å•†å“C         | 1        | 100       |
      | å•†å“D         | 1        | 100       |
      | å•†å“E         | 1        | 100       |
      | å•†å“F         | 1        | 100       |
      | å•†å“G         | 1        | 100       |
      | å•†å“H         | 1        | 100       |
      | å•†å“I         | 1        | 100       |
      | å•†å“J         | 1        | 100       |
    Then the order summary should be:
      | totalAmount |
      | 1000        |
    And the discount details should be:
      | productName | discountedQuantity | regularQuantity | discountedAmount | regularAmount |
      | å•†å“A         | 0                  | 1               | 0                | 100           |
      | å•†å“B         | 0                  | 1               | 0                | 100           |
      | å•†å“C         | 0                  | 1               | 0                | 100           |
      | å•†å“D         | 0                  | 1               | 0                | 100           |
      | å•†å“E         | 0                  | 1               | 0                | 100           |
      | å•†å“F         | 0                  | 1               | 0                | 100           |
      | å•†å“G         | 0                  | 1               | 0                | 100           |
      | å•†å“H         | 0                  | 1               | 0                | 100           |
      | å•†å“I         | 0                  | 1               | 0                | 100           |
      | å•†å“J         | 0                  | 1               | 0                | 100           |
```

<details>
<summary>Thought for 9s</summary>
æˆ‘å·²ç¶“æˆåŠŸå»ºç«‹äº†é›™åä¸€å„ªæƒ çš„ Feature fileã€‚è®“æˆ‘æª¢æŸ¥ä¸€ä¸‹å…§å®¹æ˜¯å¦ç¬¦åˆéœ€æ±‚ï¼š
1. ç¯„ä¾‹ä¸€ï¼š12ä»¶è¥ªå­ï¼Œæ¯ä»¶100å…ƒ
  - å‰10ä»¶äº«æœ‰20%æŠ˜æ‰£ï¼ˆ80æŠ˜ï¼‰ï¼š10 Ã— 100 Ã— 0.8 = 800
  - å¾Œ2ä»¶åŸåƒ¹ï¼š2 Ã— 100 = 200
  - ç¸½è¨ˆï¼š800 + 200 = 1000 âœ“
2. ç¯„ä¾‹äºŒï¼š27ä»¶è¥ªå­ï¼Œæ¯ä»¶100å…ƒ
  - å‰10ä»¶äº«æœ‰20%æŠ˜æ‰£ï¼š10 Ã— 100 Ã— 0.8 = 800
  - ä¸­é–“10ä»¶äº«æœ‰20%æŠ˜æ‰£ï¼š10 Ã— 100 Ã— 0.8 = 800
  - å¾Œ7ä»¶åŸåƒ¹ï¼š7 Ã— 100 = 700
  - ç¸½è¨ˆï¼š800 + 800 + 700 = 2300 âœ“
3. ç¯„ä¾‹ä¸‰ï¼š10ç¨®ä¸åŒå•†å“å„1ä»¶ï¼Œæ¯ä»¶100å…ƒ
  - å› ç‚ºä¸æ˜¯åŒç¨®å•†å“ï¼Œæ‰€ä»¥æ²’æœ‰æŠ˜æ‰£
  - ç¸½è¨ˆï¼š10 Ã— 100 = 1000 âœ“

Feature fileçš„æ ¼å¼ä¹Ÿåƒè€ƒäº†åŸæœ¬çš„ order.featureï¼š
- ä½¿ç”¨äº† @tag æ¨™è¨˜
- æ¸…æ¥šçš„ Feature æè¿°
- ä½¿ç”¨ Background ä¾†è¨­å®šé›™åä¸€å„ªæƒ æ´»å‹•
- æ¯å€‹ Scenario éƒ½æœ‰æ¸…æ¥šçš„åç¨±
- ä½¿ç”¨è¡¨æ ¼ä¾†è¡¨ç¤ºè¼¸å…¥å’ŒæœŸæœ›è¼¸å‡º
- åŠ å…¥äº†æŠ˜æ‰£è©³ç´°è³‡è¨Šçš„é©—è­‰

ç¾åœ¨å¯ä»¥å›è¦†ç”¨æˆ¶ï¼Œèªªæ˜å·²ç¶“å®Œæˆäº† Feature file çš„å»ºç«‹ã€‚
</details>

æˆ‘å·²ç¶“æˆåŠŸå»ºç«‹äº†é›™åä¸€å„ªæƒ çš„ Feature file (`double_eleven_promotion.feature`)ï¼Œæ”¾ç½®åœ¨ `test/features/` ç›®éŒ„ä¸‹ã€‚

é€™å€‹ Feature file åŒ…å«äº†æ‚¨æåˆ°çš„ä¸‰å€‹ç¯„ä¾‹æƒ…å¢ƒï¼š

## ğŸ¯ **æƒ…å¢ƒ 1ï¼š12ä»¶åŒç¨®å•†å“ - éƒ¨åˆ†æŠ˜æ‰£**
- **å•†å“**ï¼š12ä»¶è¥ªå­ï¼Œæ¯ä»¶100å…ƒ
- **è¨ˆç®—**ï¼šå‰10ä»¶äº«8æŠ˜(800å…ƒ) + å¾Œ2ä»¶åŸåƒ¹(200å…ƒ) = **1000å…ƒ**

## ğŸ¯ **æƒ…å¢ƒ 2ï¼š27ä»¶åŒç¨®å•†å“ - å¤šçµ„æŠ˜æ‰£**
- **å•†å“**ï¼š27ä»¶è¥ªå­ï¼Œæ¯ä»¶100å…ƒ  
- **è¨ˆç®—**ï¼šå‰10ä»¶8æŠ˜ + ä¸­10ä»¶8æŠ˜ + å¾Œ7ä»¶åŸåƒ¹ = 800+800+700 = **2300å…ƒ**

## ğŸ¯ **æƒ…å¢ƒ 3ï¼š10ç¨®ä¸åŒå•†å“ - ç„¡æŠ˜æ‰£**
- **å•†å“**ï¼šå•†å“A~Jå„1ä»¶ï¼Œæ¯ä»¶100å…ƒ
- **è¨ˆç®—**ï¼šå› éåŒç¨®å•†å“ï¼Œç„¡æŠ˜æ‰£ = **1000å…ƒ**

### ğŸ“‹ **Feature file ç‰¹è‰²ï¼š**
- åƒè€ƒäº†åŸæœ‰çš„ `order.feature` æ ¼å¼
- ä½¿ç”¨ `Background` è¨­å®šé›™åä¸€å„ªæƒ æ´»å‹•å•Ÿå‹•
- æ¯å€‹æƒ…å¢ƒéƒ½æœ‰æ¸…æ¥šçš„è¼¸å…¥è³‡æ–™è¡¨æ ¼
- åŒ…å«è¨‚å–®ç¸½é‡‘é¡é©—è­‰
- å¢åŠ æŠ˜æ‰£è©³ç´°è³‡è¨Šé©—è­‰ï¼Œæ–¹ä¾¿æ¸¬è©¦æŠ˜æ‰£è¨ˆç®—é‚è¼¯

ç¾åœ¨æ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ BDD Prompt ä¾†è®“ AI å¯¦ä½œé›™åä¸€å„ªæƒ åŠŸèƒ½äº†ï¼æ¥ä¸‹ä¾†å¯ä»¥åŸ·è¡Œ BDD é–‹ç™¼æµç¨‹ä¾†å¯¦ç¾é€™äº›é©—æ”¶æƒ…å¢ƒã€‚

